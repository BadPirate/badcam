# Bad-Cam
A suite of shell scripts to be used in conjunction with `ffmpeg` and the files generated by Tesla Sentry Camera.

## Features

* Combines "crunches" the left, front and right videos generated by Tesla Security and Dash cam features into a single side-by-side-by-side view with synchronized time signatures.
* Scans through the "crunched" video for signs of motion and generates a smaller highlight video which only shows frames with motion
* Traverses the default date / time folder structure and performs "crunch" and highlight operations on any videos present, deleting the excess when completed.

## Installation

1. Download shell script onto some bash capable machine
1. Install ffmpeg.  For OSX this can be done with brew `brew install ffmpeg` or ubuntu apt-get.

## Usage

### badcam.sh

```
A script that walks through the folder structure created for Tesla Sentry videos and "crunches" into a single side-by-side-by-side view as well as a motion based highlight reel

Usage: ./badcam.sh [-h|--help] [-m|--motion <arg>] <root>
	<root>: root directory to search for videos in
	-h, --help: Prints help
	-m, --motion: sets a motion threshold for generating highlights (default: '0.005')
```

### crunch.sh

```
"Crunches" the 3 Tesla videos (front, right, left) into a single video for playback and generates a "highlight" reel which shows only video with motion over a specific threshold.

Usage: ./crunch.sh [-h|--help] [-m|--motion <arg>] <video>
	<video>: any of the three videos, should be in same folder as other two
	-h, --help: Prints help
	-m, --motion: sets a motion threshold for generating highlights (default: '0.005')
```

### highlight.sh

```
Uses ffmpeg to capture only frames with movement above a specific threshold to a new video

Usage: ./highlight.sh [-h|--help] [-t|--threshold <arg>] [-f|--framerate <arg>] [<files-1>] ... [<files-n>] ...
	<files>: one or more (with wildcard) files to highlight
	-h, --help: Prints help
	-t, --threshold: motion threshold that triggers a capture (default: '0.005')
	-f, --framerate: output highlight file framerate (default: '16')
```